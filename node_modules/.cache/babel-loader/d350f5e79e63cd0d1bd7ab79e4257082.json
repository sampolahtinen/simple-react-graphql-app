{"ast":null,"code":"import _classCallCheck from \"/Users/Sampo/Documents/Web/simple-react-graphql-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Sampo/Documents/Web/simple-react-graphql-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Sampo/Documents/Web/simple-react-graphql-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Sampo/Documents/Web/simple-react-graphql-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Sampo/Documents/Web/simple-react-graphql-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Sampo/Documents/Web/simple-react-graphql-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Sampo/Documents/Web/simple-react-graphql-app/src/components/Search/Search.jsx\";\nimport React, { Component } from \"react\";\nimport MaterialIcon from \"material-icons-react\";\nimport { withRouter } from \"react-router-dom\";\nimport { TweenLite } from \"gsap\";\nimport PropTypes from \"prop-types\";\nimport { typeWriterAnimation } from \"../../utils/animations.js\";\nimport \"./Search.css\";\nvar propTypes = {\n  updateParent: PropTypes.func.isRequired\n};\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n    var location = _this.props.location;\n    var initialSearchString = location.search.split(\"=\")[1];\n    _this.state = {\n      searchString: initialSearchString || \"\"\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleKeyPress = _this.handleKeyPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      typeWriterAnimation(\".input-placeholder-animation\");\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var searchString = this.state.searchString;\n      var navTriangle = document.querySelectorAll(\".nav-item-search\")[0];\n\n      if (!searchString) {\n        TweenLite.to(navTriangle, 0.1, {\n          transform: \"rotate(0deg)\"\n        });\n      }\n    }\n  }, {\n    key: \"clearSearch\",\n    value: function clearSearch() {\n      var updateParent = this.props.updateParent;\n      var history = this.props.history;\n      history.push(\"/\");\n      updateParent({\n        searchString: \"\"\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(data) {\n      var change = {};\n      change[data.target.name] = data.target.value;\n      this.setState(change);\n\n      if (data.target.value === \"\") {\n        this.clearSearch();\n      }\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      var searchString = this.state.searchString;\n      var updateParent = this.props.updateParent;\n      var navTriangle = document.querySelectorAll(\".nav-item-search\")[0];\n\n      if (e.key === \"Enter\") {\n        updateParent({\n          searchString: searchString\n        });\n        this.props.history.push({\n          pathname: \"/\",\n          search: \"search=\".concat(searchString)\n        });\n        this.myTween = TweenLite.to(navTriangle, 0.1, {\n          transform: \"rotate(-90deg)\"\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var updateParent = this.props.updateParent;\n      var searchString = this.state.searchString;\n      return React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"search-input-field input-placeholder-animation\",\n        type: \"text\",\n        name: \"searchString\",\n        placeholder: \"Search Star Wars characters...\",\n        value: searchString,\n        onChange: this.handleChange,\n        onKeyPress: this.handleKeyPress,\n        autoFocus: true,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search-icon\",\n        onClick: function onClick() {\n          return updateParent({\n            searchString: searchString\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(MaterialIcon, {\n        icon: \"search\",\n        size: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nSearch.propTypes = propTypes;\nexport default withRouter(Search);","map":{"version":3,"sources":["/Users/Sampo/Documents/Web/simple-react-graphql-app/src/components/Search/Search.jsx"],"names":["React","Component","MaterialIcon","withRouter","TweenLite","PropTypes","typeWriterAnimation","propTypes","updateParent","func","isRequired","Search","props","location","initialSearchString","search","split","state","searchString","handleChange","bind","handleKeyPress","navTriangle","document","querySelectorAll","to","transform","history","push","data","change","target","name","value","setState","clearSearch","e","key","pathname","myTween"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport MaterialIcon from \"material-icons-react\";\nimport { withRouter } from \"react-router-dom\";\nimport { TweenLite } from \"gsap\";\nimport PropTypes from \"prop-types\";\nimport { typeWriterAnimation } from \"../../utils/animations.js\";\nimport \"./Search.css\";\n\nconst propTypes = {\n  updateParent: PropTypes.func.isRequired\n};\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    const { location } = this.props;\n    const initialSearchString = location.search.split(\"=\")[1];\n    this.state = {\n      searchString: initialSearchString || \"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyPress = this.handleKeyPress.bind(this);\n  }\n\n  componentDidMount() {\n    typeWriterAnimation(\".input-placeholder-animation\");\n  }\n\n  componentDidUpdate() {\n    const { searchString } = this.state;\n    const navTriangle = document.querySelectorAll(\".nav-item-search\")[0];\n    if (!searchString) {\n      TweenLite.to(navTriangle, 0.1, {\n        transform: \"rotate(0deg)\"\n      });\n    }\n  }\n\n  clearSearch() {\n    const { updateParent } = this.props;\n    const { history } = this.props;\n\n    history.push(\"/\");\n    updateParent({ searchString: \"\" });\n  }\n\n  handleChange(data) {\n    const change = {};\n    change[data.target.name] = data.target.value;\n    this.setState(change);\n    if (data.target.value === \"\") {\n      this.clearSearch();\n    }\n  }\n\n  handleKeyPress(e) {\n    const { searchString } = this.state;\n    const { updateParent } = this.props;\n    const navTriangle = document.querySelectorAll(\".nav-item-search\")[0];\n    if (e.key === \"Enter\") {\n      updateParent({ searchString });\n      this.props.history.push({\n        pathname: \"/\",\n        search: `search=${searchString}`\n      });\n      this.myTween = TweenLite.to(navTriangle, 0.1, {\n        transform: \"rotate(-90deg)\"\n      });\n    }\n  }\n\n  render() {\n    const { updateParent } = this.props;\n    const { searchString } = this.state;\n\n    return (\n      <div className=\"search\">\n        <div className=\"input-container\">\n          <input\n            className=\"search-input-field input-placeholder-animation\"\n            type=\"text\"\n            name=\"searchString\"\n            placeholder=\"Search Star Wars characters...\"\n            value={searchString}\n            onChange={this.handleChange}\n            onKeyPress={this.handleKeyPress}\n            autoFocus\n            required\n          />\n          <div\n            className=\"search-icon\"\n            onClick={() => updateParent({ searchString })}\n          >\n            <MaterialIcon icon=\"search\" size=\"medium\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = propTypes;\n\nexport default withRouter(Search);\n"]},"metadata":{},"sourceType":"module"}